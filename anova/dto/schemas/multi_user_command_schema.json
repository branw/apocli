{
  "$schema":"http://json-schema.org/draft-07/schema#",
  "defaultProperties":[],
  "definitions":{
    "AddUserWithPairingCode":{
      "defaultProperties":[],
      "properties":{
        "id":{
          "type":"string"
        },
        "payload":{
          "defaultProperties":[],
          "properties":{
            "data":{
              "type":"string"
            }
          },
          "required":[
            "data"
          ],
          "type":"object"
        },
        "type":{
          "enum":[
            "CMD_ADD_USER_WITH_PAIRING"
          ],
          "type":"string"
        }
      },
      "required":[
        "id",
        "payload",
        "type"
      ],
      "type":"object"
    },
    "GenerateNewPairingCode":{
      "defaultProperties":[],
      "properties":{
        "id":{
          "type":"string"
        },
        "type":{
          "enum":[
            "CMD_GENERATE_NEW_PAIRING"
          ],
          "type":"string"
        }
      },
      "required":[
        "id",
        "type"
      ],
      "type":"object"
    },
    "ListUsersForDevice":{
      "defaultProperties":[],
      "properties":{
        "id":{
          "type":"string"
        },
        "type":{
          "enum":[
            "CMD_LIST_USERS"
          ],
          "type":"string"
        }
      },
      "required":[
        "id",
        "type"
      ],
      "type":"object"
    },
    "MultiUserCommand":{
      "anyOf":[
        {
          "$ref":"#/definitions/GenerateNewPairingCode"
        },
        {
          "$ref":"#/definitions/AddUserWithPairingCode"
        },
        {
          "$ref":"#/definitions/ListUsersForDevice"
        },
        {
          "$ref":"#/definitions/PairAlexa"
        },
        {
          "$ref":"#/definitions/UnpairAlexa"
        }
      ]
    },
    "MultiUserCommandType":{
      "enum":[
        "CMD_ADD_USER_WITH_PAIRING",
        "CMD_GENERATE_NEW_PAIRING",
        "CMD_LIST_USERS",
        "CMD_USER_PAIR_ALEXA",
        "CMD_USER_UNPAIR_ALEXA"
      ],
      "type":"string"
    },
    "MultiUserCommandType.CMD_USER_PAIR_ALEXA":{
      "enum":[
        "CMD_USER_PAIR_ALEXA"
      ],
      "type":"string"
    },
    "MultiUserCommandType.CMD_USER_UNPAIR_ALEXA":{
      "enum":[
        "CMD_USER_UNPAIR_ALEXA"
      ],
      "type":"string"
    },
    "PairAlexa":{
      "defaultProperties":[],
      "properties":{
        "id":{
          "type":"string"
        },
        "payload":{
          "defaultProperties":[],
          "properties":{
            "code":{
              "type":"string"
            }
          },
          "required":[
            "code"
          ],
          "type":"object"
        },
        "type":{
          "$ref":"#/definitions/MultiUserCommandType.CMD_USER_PAIR_ALEXA"
        }
      },
      "required":[
        "id",
        "payload",
        "type"
      ],
      "type":"object"
    },
    "UnpairAlexa":{
      "defaultProperties":[],
      "properties":{
        "id":{
          "type":"string"
        },
        "payload":{
          "defaultProperties":[],
          "properties":{
            "code":{
              "type":"string"
            }
          },
          "required":[
            "code"
          ],
          "type":"object"
        },
        "type":{
          "$ref":"#/definitions/MultiUserCommandType.CMD_USER_UNPAIR_ALEXA"
        }
      },
      "required":[
        "id",
        "payload",
        "type"
      ],
      "type":"object"
    }
  },
  "properties":{
    "command":{
      "$ref":"#/definitions/MultiUserCommandType"
    },
    "payload":{
      "$ref":"#/definitions/MultiUserCommand"
    },
    "requestId":{
      "type":"string"
    }
  },
  "required":[
    "command",
    "payload",
    "requestId"
  ],
  "type":"object"
}
